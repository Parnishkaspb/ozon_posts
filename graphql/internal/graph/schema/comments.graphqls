extend type Mutation {
  createComment(
    postId: ID!
    parentId: ID
    text: String!
  ): Comment!
}

type Comment {
  id: ID!
  postId: ID!
  parentId: ID
  text: String!
  createdAt: String!

  authorId: ID!
  author: User!

  replies(first: Int! = 20, after: String): CommentConnection!
}

type Subscription {
  commentAdded(postId: ID!): Comment!
}

type CommentConnection {
  edges: [CommentEdge!]!
  pageInfo: PageInfo!
}

type CommentEdge {
  cursor: String!
  node: Comment!
}